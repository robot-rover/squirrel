---
source: squirrel_lang/src/parser/mod.rs
expression: actual_ast
---
keyword_span:
  start: Start
  end: End
arg_span:
  start: Start
  end: End
num_args: 0
default_expr: []
local_names:
  - - vargv
    - 0
  - - start
    - 1
num_locals: 2
upvalues: []
is_varargs: true
body:
  data:
    Block:
      - data:
          Expr:
            data:
              Assign:
                target:
                  Ident:
                    - Toggle
                    - start: Start
                      end: End
                value:
                  data:
                    ClassDef:
                      parent: ~
                      members:
                        - - data:
                              Literal:
                                String: bool
                            span:
                              start: Start
                              end: End
                          - data:
                              Literal: "Null"
                            span:
                              start: Start
                              end: End
                      ctx:
                        class_kw_span:
                          start: Start
                          end: End
                        class_body_span:
                          start: Start
                          end: End
                        extends_kw_ty_span: ~
                  span:
                    start: Start
                    end: End
                kind: NewSlot
                op_span:
                  start: Start
                  end: End
            span:
              start: Start
              end: End
        span:
          start: Start
          end: End
      - data:
          Expr:
            data:
              Assign:
                target:
                  FieldAccess:
                    - data:
                        Ident: Toggle
                      span:
                        start: Start
                        end: End
                    - - constructor
                      - start: Start
                        end: End
                value:
                  data:
                    FunctionDef:
                      keyword_span:
                        start: Start
                        end: End
                      arg_span:
                        start: Start
                        end: End
                      num_args: 1
                      default_expr: []
                      local_names:
                        - - startstate
                          - 0
                      num_locals: 1
                      upvalues: []
                      is_varargs: false
                      body:
                        data:
                          Block:
                            - data:
                                Expr:
                                  data:
                                    Assign:
                                      target:
                                        Ident:
                                          - bool
                                          - start: Start
                                            end: End
                                      value:
                                        data:
                                          Local:
                                            - 0
                                            - start: Start
                                              end: End
                                        span:
                                          start: Start
                                          end: End
                                      kind: Normal
                                      op_span:
                                        start: Start
                                        end: End
                                  span:
                                    start: Start
                                    end: End
                              span:
                                start: Start
                                end: End
                        span:
                          start: Start
                          end: End
                  span:
                    start: Start
                    end: End
                kind: NewSlot
                op_span:
                  start: Start
                  end: End
            span:
              start: Start
              end: End
        span:
          start: Start
          end: End
      - data:
          Expr:
            data:
              Assign:
                target:
                  FieldAccess:
                    - data:
                        Ident: Toggle
                      span:
                        start: Start
                        end: End
                    - - value
                      - start: Start
                        end: End
                value:
                  data:
                    FunctionDef:
                      keyword_span:
                        start: Start
                        end: End
                      arg_span:
                        start: Start
                        end: End
                      num_args: 0
                      default_expr: []
                      local_names: []
                      num_locals: 0
                      upvalues: []
                      is_varargs: false
                      body:
                        data:
                          Block:
                            - data:
                                Return:
                                  data:
                                    Ident: bool
                                  span:
                                    start: Start
                                    end: End
                              span:
                                start: Start
                                end: End
                        span:
                          start: Start
                          end: End
                  span:
                    start: Start
                    end: End
                kind: NewSlot
                op_span:
                  start: Start
                  end: End
            span:
              start: Start
              end: End
        span:
          start: Start
          end: End
      - data:
          Expr:
            data:
              Assign:
                target:
                  FieldAccess:
                    - data:
                        Ident: Toggle
                      span:
                        start: Start
                        end: End
                    - - activate
                      - start: Start
                        end: End
                value:
                  data:
                    FunctionDef:
                      keyword_span:
                        start: Start
                        end: End
                      arg_span:
                        start: Start
                        end: End
                      num_args: 0
                      default_expr: []
                      local_names: []
                      num_locals: 0
                      upvalues: []
                      is_varargs: false
                      body:
                        data:
                          Block:
                            - data:
                                Expr:
                                  data:
                                    Assign:
                                      target:
                                        Ident:
                                          - bool
                                          - start: Start
                                            end: End
                                      value:
                                        data:
                                          UnaryOp:
                                            - Not
                                            - start: Start
                                              end: End
                                            - data:
                                                Ident: bool
                                              span:
                                                start: Start
                                                end: End
                                        span:
                                          start: Start
                                          end: End
                                      kind: Normal
                                      op_span:
                                        start: Start
                                        end: End
                                  span:
                                    start: Start
                                    end: End
                              span:
                                start: Start
                                end: End
                            - data:
                                Return:
                                  data: This
                                  span:
                                    start: Start
                                    end: End
                              span:
                                start: Start
                                end: End
                        span:
                          start: Start
                          end: End
                  span:
                    start: Start
                    end: End
                kind: NewSlot
                op_span:
                  start: Start
                  end: End
            span:
              start: Start
              end: End
        span:
          start: Start
          end: End
      - data:
          Expr:
            data:
              Assign:
                target:
                  Ident:
                    - NthToggle
                    - start: Start
                      end: End
                value:
                  data:
                    ClassDef:
                      parent:
                        - Toggle
                        - start: Start
                          end: End
                      members:
                        - - data:
                              Literal:
                                String: count_max
                            span:
                              start: Start
                              end: End
                          - data:
                              Literal: "Null"
                            span:
                              start: Start
                              end: End
                        - - data:
                              Literal:
                                String: count
                            span:
                              start: Start
                              end: End
                          - data:
                              Literal:
                                Integer: 0
                            span:
                              start: Start
                              end: End
                      ctx:
                        class_kw_span:
                          start: Start
                          end: End
                        class_body_span:
                          start: Start
                          end: End
                        extends_kw_ty_span:
                          - start: Start
                            end: End
                          - start: Start
                            end: End
                  span:
                    start: Start
                    end: End
                kind: NewSlot
                op_span:
                  start: Start
                  end: End
            span:
              start: Start
              end: End
        span:
          start: Start
          end: End
      - data:
          Expr:
            data:
              Assign:
                target:
                  FieldAccess:
                    - data:
                        Ident: NthToggle
                      span:
                        start: Start
                        end: End
                    - - constructor
                      - start: Start
                        end: End
                value:
                  data:
                    FunctionDef:
                      keyword_span:
                        start: Start
                        end: End
                      arg_span:
                        start: Start
                        end: End
                      num_args: 2
                      default_expr: []
                      local_names:
                        - - start_state
                          - 0
                        - - max_counter
                          - 1
                      num_locals: 2
                      upvalues: []
                      is_varargs: false
                      body:
                        data:
                          Block:
                            - data:
                                Expr:
                                  data:
                                    FunctionCall:
                                      func:
                                        FieldAccess:
                                          - data: Base
                                            span:
                                              start: Start
                                              end: End
                                          - - constructor
                                            - start: Start
                                              end: End
                                      args:
                                        - data:
                                            Local:
                                              - 0
                                              - start: Start
                                                end: End
                                          span:
                                            start: Start
                                            end: End
                                  span:
                                    start: Start
                                    end: End
                              span:
                                start: Start
                                end: End
                            - data:
                                Expr:
                                  data:
                                    Assign:
                                      target:
                                        Ident:
                                          - count_max
                                          - start: Start
                                            end: End
                                      value:
                                        data:
                                          Local:
                                            - 1
                                            - start: Start
                                              end: End
                                        span:
                                          start: Start
                                          end: End
                                      kind: Normal
                                      op_span:
                                        start: Start
                                        end: End
                                  span:
                                    start: Start
                                    end: End
                              span:
                                start: Start
                                end: End
                        span:
                          start: Start
                          end: End
                  span:
                    start: Start
                    end: End
                kind: NewSlot
                op_span:
                  start: Start
                  end: End
            span:
              start: Start
              end: End
        span:
          start: Start
          end: End
      - data:
          Expr:
            data:
              Assign:
                target:
                  FieldAccess:
                    - data:
                        Ident: NthToggle
                      span:
                        start: Start
                        end: End
                    - - activate
                      - start: Start
                        end: End
                value:
                  data:
                    FunctionDef:
                      keyword_span:
                        start: Start
                        end: End
                      arg_span:
                        start: Start
                        end: End
                      num_args: 0
                      default_expr: []
                      local_names: []
                      num_locals: 0
                      upvalues: []
                      is_varargs: false
                      body:
                        data:
                          Block:
                            - data:
                                Expr:
                                  data:
                                    UnaryRefOp:
                                      - PreIncr
                                      - start: Start
                                        end: End
                                      - Ident:
                                          - count
                                          - start: Start
                                            end: End
                                  span:
                                    start: Start
                                    end: End
                              span:
                                start: Start
                                end: End
                            - data:
                                IfElse:
                                  - data:
                                      BinaryOp:
                                        op: GreaterEq
                                        op_span:
                                          start: Start
                                          end: End
                                        lhs:
                                          data:
                                            Ident: count
                                          span:
                                            start: Start
                                            end: End
                                        rhs:
                                          data:
                                            Ident: count_max
                                          span:
                                            start: Start
                                            end: End
                                    span:
                                      start: Start
                                      end: End
                                  - data:
                                      Block:
                                        - data:
                                            Expr:
                                              data:
                                                FunctionCall:
                                                  func:
                                                    FieldAccess:
                                                      - data: Base
                                                        span:
                                                          start: Start
                                                          end: End
                                                      - - activate
                                                        - start: Start
                                                          end: End
                                                  args: []
                                              span:
                                                start: Start
                                                end: End
                                          span:
                                            start: Start
                                            end: End
                                        - data:
                                            Expr:
                                              data:
                                                Assign:
                                                  target:
                                                    Ident:
                                                      - count
                                                      - start: Start
                                                        end: End
                                                  value:
                                                    data:
                                                      Literal:
                                                        Integer: 0
                                                    span:
                                                      start: Start
                                                      end: End
                                                  kind: Normal
                                                  op_span:
                                                    start: Start
                                                    end: End
                                              span:
                                                start: Start
                                                end: End
                                          span:
                                            start: Start
                                            end: End
                                    span:
                                      start: Start
                                      end: End
                                  - data: Empty
                                    span:
                                      start: Start
                                      end: End
                              span:
                                start: Start
                                end: End
                            - data:
                                Return:
                                  data: This
                                  span:
                                    start: Start
                                    end: End
                              span:
                                start: Start
                                end: End
                        span:
                          start: Start
                          end: End
                  span:
                    start: Start
                    end: End
                kind: NewSlot
                op_span:
                  start: Start
                  end: End
            span:
              start: Start
              end: End
        span:
          start: Start
          end: End
      - data:
          Expr:
            data:
              Assign:
                target:
                  Ident:
                    - main
                    - start: Start
                      end: End
                value:
                  data:
                    FunctionDef:
                      keyword_span:
                        start: Start
                        end: End
                      arg_span:
                        start: Start
                        end: End
                      num_args: 0
                      default_expr: []
                      local_names:
                        - - n
                          - 2
                        - - val
                          - 3
                        - - toggle
                          - 4
                        - - i
                          - 5
                        - - ntoggle
                          - 6
                      num_locals: 7
                      upvalues:
                        - - 0
                          - 0
                        - - 0
                          - 1
                      is_varargs: false
                      body:
                        data:
                          Block:
                            - data:
                                Expr:
                                  data:
                                    Assign:
                                      target:
                                        Local:
                                          - 2
                                          - start: Start
                                            end: End
                                      value:
                                        data:
                                          Ternary:
                                            cond:
                                              data:
                                                BinaryOp:
                                                  op: NotEq
                                                  op_span:
                                                    start: Start
                                                    end: End
                                                  lhs:
                                                    data:
                                                      FunctionCall:
                                                        func:
                                                          FieldAccess:
                                                            - data:
                                                                Local:
                                                                  - 0
                                                                  - start: Start
                                                                    end: End
                                                              span:
                                                                start: Start
                                                                end: End
                                                            - - len
                                                              - start: Start
                                                                end: End
                                                        args: []
                                                    span:
                                                      start: Start
                                                      end: End
                                                  rhs:
                                                    data:
                                                      Literal:
                                                        Integer: 0
                                                    span:
                                                      start: Start
                                                      end: End
                                              span:
                                                start: Start
                                                end: End
                                            true_expr:
                                              data:
                                                FunctionCall:
                                                  func:
                                                    FieldAccess:
                                                      - data:
                                                          ArrayAccess:
                                                            array:
                                                              data:
                                                                Local:
                                                                  - 1
                                                                  - start: Start
                                                                    end: End
                                                              span:
                                                                start: Start
                                                                end: End
                                                            index:
                                                              data:
                                                                Literal:
                                                                  Integer: 0
                                                              span:
                                                                start: Start
                                                                end: End
                                                        span:
                                                          start: Start
                                                          end: End
                                                      - - tointeger
                                                        - start: Start
                                                          end: End
                                                  args: []
                                              span:
                                                start: Start
                                                end: End
                                            false_expr:
                                              data:
                                                Literal:
                                                  Integer: 1
                                              span:
                                                start: Start
                                                end: End
                                        span:
                                          start: Start
                                          end: End
                                      kind: Normal
                                      op_span:
                                        start: Start
                                        end: End
                                  span:
                                    start: Start
                                    end: End
                              span:
                                start: Start
                                end: End
                            - data:
                                Expr:
                                  data:
                                    Assign:
                                      target:
                                        Local:
                                          - 3
                                          - start: Start
                                            end: End
                                      value:
                                        data:
                                          Literal:
                                            Integer: 1
                                        span:
                                          start: Start
                                          end: End
                                      kind: Normal
                                      op_span:
                                        start: Start
                                        end: End
                                  span:
                                    start: Start
                                    end: End
                              span:
                                start: Start
                                end: End
                            - data:
                                Expr:
                                  data:
                                    Assign:
                                      target:
                                        Local:
                                          - 4
                                          - start: Start
                                            end: End
                                      value:
                                        data:
                                          FunctionCall:
                                            func:
                                              Expr:
                                                data:
                                                  Ident: Toggle
                                                span:
                                                  start: Start
                                                  end: End
                                            args:
                                              - data:
                                                  Local:
                                                    - 3
                                                    - start: Start
                                                      end: End
                                                span:
                                                  start: Start
                                                  end: End
                                        span:
                                          start: Start
                                          end: End
                                      kind: Normal
                                      op_span:
                                        start: Start
                                        end: End
                                  span:
                                    start: Start
                                    end: End
                              span:
                                start: Start
                                end: End
                            - data:
                                Expr:
                                  data:
                                    Assign:
                                      target:
                                        Local:
                                          - 5
                                          - start: Start
                                            end: End
                                      value:
                                        data:
                                          Local:
                                            - 2
                                            - start: Start
                                              end: End
                                        span:
                                          start: Start
                                          end: End
                                      kind: Normal
                                      op_span:
                                        start: Start
                                        end: End
                                  span:
                                    start: Start
                                    end: End
                              span:
                                start: Start
                                end: End
                            - data:
                                While:
                                  while_kw:
                                    start: Start
                                    end: End
                                  cond:
                                    data:
                                      UnaryRefOp:
                                        - PostDecr
                                        - start: Start
                                          end: End
                                        - Local:
                                            - 5
                                            - start: Start
                                              end: End
                                    span:
                                      start: Start
                                      end: End
                                  body:
                                    data:
                                      Block:
                                        - data:
                                            Expr:
                                              data:
                                                Assign:
                                                  target:
                                                    Local:
                                                      - 3
                                                      - start: Start
                                                        end: End
                                                  value:
                                                    data:
                                                      FunctionCall:
                                                        func:
                                                          FieldAccess:
                                                            - data:
                                                                FunctionCall:
                                                                  func:
                                                                    FieldAccess:
                                                                      - data:
                                                                          Local:
                                                                            - 4
                                                                            - start: Start
                                                                              end: End
                                                                        span:
                                                                          start: Start
                                                                          end: End
                                                                      - - activate
                                                                        - start: Start
                                                                          end: End
                                                                  args: []
                                                              span:
                                                                start: Start
                                                                end: End
                                                            - - value
                                                              - start: Start
                                                                end: End
                                                        args: []
                                                    span:
                                                      start: Start
                                                      end: End
                                                  kind: Normal
                                                  op_span:
                                                    start: Start
                                                    end: End
                                              span:
                                                start: Start
                                                end: End
                                          span:
                                            start: Start
                                            end: End
                                    span:
                                      start: Start
                                      end: End
                                  is_do_while: false
                              span:
                                start: Start
                                end: End
                            - data:
                                Expr:
                                  data:
                                    FunctionCall:
                                      func:
                                        Expr:
                                          data:
                                            Ident: print
                                          span:
                                            start: Start
                                            end: End
                                      args:
                                        - data:
                                            Ternary:
                                              cond:
                                                data:
                                                  FunctionCall:
                                                    func:
                                                      FieldAccess:
                                                        - data:
                                                            Local:
                                                              - 4
                                                              - start: Start
                                                                end: End
                                                          span:
                                                            start: Start
                                                            end: End
                                                        - - value
                                                          - start: Start
                                                            end: End
                                                    args: []
                                                span:
                                                  start: Start
                                                  end: End
                                              true_expr:
                                                data:
                                                  Literal:
                                                    String: "true\n"
                                                span:
                                                  start: Start
                                                  end: End
                                              false_expr:
                                                data:
                                                  Literal:
                                                    String: "false\n"
                                                span:
                                                  start: Start
                                                  end: End
                                          span:
                                            start: Start
                                            end: End
                                  span:
                                    start: Start
                                    end: End
                              span:
                                start: Start
                                end: End
                            - data:
                                Expr:
                                  data:
                                    Assign:
                                      target:
                                        Local:
                                          - 3
                                          - start: Start
                                            end: End
                                      value:
                                        data:
                                          Literal:
                                            Integer: 1
                                        span:
                                          start: Start
                                          end: End
                                      kind: Normal
                                      op_span:
                                        start: Start
                                        end: End
                                  span:
                                    start: Start
                                    end: End
                              span:
                                start: Start
                                end: End
                            - data:
                                Expr:
                                  data:
                                    Assign:
                                      target:
                                        Local:
                                          - 6
                                          - start: Start
                                            end: End
                                      value:
                                        data:
                                          FunctionCall:
                                            func:
                                              Expr:
                                                data:
                                                  Ident: NthToggle
                                                span:
                                                  start: Start
                                                  end: End
                                            args:
                                              - data:
                                                  Local:
                                                    - 3
                                                    - start: Start
                                                      end: End
                                                span:
                                                  start: Start
                                                  end: End
                                              - data:
                                                  Literal:
                                                    Integer: 3
                                                span:
                                                  start: Start
                                                  end: End
                                        span:
                                          start: Start
                                          end: End
                                      kind: Normal
                                      op_span:
                                        start: Start
                                        end: End
                                  span:
                                    start: Start
                                    end: End
                              span:
                                start: Start
                                end: End
                            - data:
                                Expr:
                                  data:
                                    Assign:
                                      target:
                                        Local:
                                          - 5
                                          - start: Start
                                            end: End
                                      value:
                                        data:
                                          Local:
                                            - 2
                                            - start: Start
                                              end: End
                                        span:
                                          start: Start
                                          end: End
                                      kind: Normal
                                      op_span:
                                        start: Start
                                        end: End
                                  span:
                                    start: Start
                                    end: End
                              span:
                                start: Start
                                end: End
                            - data:
                                While:
                                  while_kw:
                                    start: Start
                                    end: End
                                  cond:
                                    data:
                                      UnaryRefOp:
                                        - PostDecr
                                        - start: Start
                                          end: End
                                        - Local:
                                            - 5
                                            - start: Start
                                              end: End
                                    span:
                                      start: Start
                                      end: End
                                  body:
                                    data:
                                      Block:
                                        - data:
                                            Expr:
                                              data:
                                                Assign:
                                                  target:
                                                    Local:
                                                      - 3
                                                      - start: Start
                                                        end: End
                                                  value:
                                                    data:
                                                      FunctionCall:
                                                        func:
                                                          FieldAccess:
                                                            - data:
                                                                FunctionCall:
                                                                  func:
                                                                    FieldAccess:
                                                                      - data:
                                                                          Local:
                                                                            - 6
                                                                            - start: Start
                                                                              end: End
                                                                        span:
                                                                          start: Start
                                                                          end: End
                                                                      - - activate
                                                                        - start: Start
                                                                          end: End
                                                                  args: []
                                                              span:
                                                                start: Start
                                                                end: End
                                                            - - value
                                                              - start: Start
                                                                end: End
                                                        args: []
                                                    span:
                                                      start: Start
                                                      end: End
                                                  kind: Normal
                                                  op_span:
                                                    start: Start
                                                    end: End
                                              span:
                                                start: Start
                                                end: End
                                          span:
                                            start: Start
                                            end: End
                                    span:
                                      start: Start
                                      end: End
                                  is_do_while: false
                              span:
                                start: Start
                                end: End
                            - data:
                                Expr:
                                  data:
                                    FunctionCall:
                                      func:
                                        Expr:
                                          data:
                                            Ident: print
                                          span:
                                            start: Start
                                            end: End
                                      args:
                                        - data:
                                            Ternary:
                                              cond:
                                                data:
                                                  FunctionCall:
                                                    func:
                                                      FieldAccess:
                                                        - data:
                                                            Local:
                                                              - 6
                                                              - start: Start
                                                                end: End
                                                          span:
                                                            start: Start
                                                            end: End
                                                        - - value
                                                          - start: Start
                                                            end: End
                                                    args: []
                                                span:
                                                  start: Start
                                                  end: End
                                              true_expr:
                                                data:
                                                  Literal:
                                                    String: "true\n"
                                                span:
                                                  start: Start
                                                  end: End
                                              false_expr:
                                                data:
                                                  Literal:
                                                    String: "false\n"
                                                span:
                                                  start: Start
                                                  end: End
                                          span:
                                            start: Start
                                            end: End
                                  span:
                                    start: Start
                                    end: End
                              span:
                                start: Start
                                end: End
                        span:
                          start: Start
                          end: End
                  span:
                    start: Start
                    end: End
                kind: NewSlot
                op_span:
                  start: Start
                  end: End
            span:
              start: Start
              end: End
        span:
          start: Start
          end: End
      - data:
          Expr:
            data:
              Assign:
                target:
                  Local:
                    - 1
                    - start: Start
                      end: End
                value:
                  data:
                    FunctionCall:
                      func:
                        Expr:
                          data:
                            Ident: clock
                          span:
                            start: Start
                            end: End
                      args: []
                  span:
                    start: Start
                    end: End
                kind: Normal
                op_span:
                  start: Start
                  end: End
            span:
              start: Start
              end: End
        span:
          start: Start
          end: End
      - data:
          Expr:
            data:
              FunctionCall:
                func:
                  Expr:
                    data:
                      Ident: main
                    span:
                      start: Start
                      end: End
                args: []
            span:
              start: Start
              end: End
        span:
          start: Start
          end: End
      - data:
          Expr:
            data:
              FunctionCall:
                func:
                  Expr:
                    data:
                      Ident: print
                    span:
                      start: Start
                      end: End
                args:
                  - data:
                      BinaryOp:
                        op: Add
                        op_span:
                          start: Start
                          end: End
                        lhs:
                          data:
                            BinaryOp:
                              op: Add
                              op_span:
                                start: Start
                                end: End
                              lhs:
                                data:
                                  Literal:
                                    String: TIME=
                                span:
                                  start: Start
                                  end: End
                              rhs:
                                data:
                                  BinaryOp:
                                    op: Sub
                                    op_span:
                                      start: Start
                                      end: End
                                    lhs:
                                      data:
                                        FunctionCall:
                                          func:
                                            Expr:
                                              data:
                                                Ident: clock
                                              span:
                                                start: Start
                                                end: End
                                          args: []
                                      span:
                                        start: Start
                                        end: End
                                    rhs:
                                      data:
                                        Local:
                                          - 1
                                          - start: Start
                                            end: End
                                      span:
                                        start: Start
                                        end: End
                                span:
                                  start: Start
                                  end: End
                          span:
                            start: Start
                            end: End
                        rhs:
                          data:
                            Literal:
                              String: "\n"
                          span:
                            start: Start
                            end: End
                    span:
                      start: Start
                      end: End
            span:
              start: Start
              end: End
        span:
          start: Start
          end: End
  span:
    start: Start
    end: End
